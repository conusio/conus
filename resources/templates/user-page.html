{% extends "base.html" %}
{% block content %}
<style type='text/css'>
 body {
     min-height: 1000px;
 }
 #columns {
	   column-width: 120px;
	   column-gap: 15px;
     width: 90%;
	   max-width: 1100px;
	   margin: 50px auto;
 }

 div#columns figure {
	   background: #fefefe;
	   border: 2px solid #fcfcfc;
	   box-shadow: 0 1px 2px rgba(34, 25, 25, 0.4);
	   margin: 0 2px 15px;
	   padding: 15px;
	   padding-bottom: 10px;
	   transition: opacity .4s ease-in-out;
     display: inline-block;
     column-break-inside: avoid;
 }

 div#columns figure img {
	   width: 100%; height: auto;
	   border-bottom: 1px solid #ccc;
	   padding-bottom: 15px;
	   margin-bottom: 5px;
 }

 div#columns figure figcaption {
     font-size: .9rem;
	   color: #444;
     line-height: 1.5;
 }

 div#columns small { 
     font-size: 1rem;
     float: right; 
     text-transform: uppercase;
     color: #aaa;
 } 

 div#columns small a { 
     color: #666; 
     text-decoration: none; 
     transition: .4s color;
 }


 @media screen and (max-width: 750px) { 
     #columns { column-gap: 0px; }
     #columns figure { width: 100%; }
 }
 img {
     filter:         url(~"data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#grayscale");
     -webkit-filter: grayscale(70%);
     -moz-filter:    grayscale(70%);
     -ms-filter:     grayscale(70%);
     -o-filter:      grayscale(70%);
     filter: gray; 
 }
 img:hover {
     filter: none;
     cursor: pointer;
 }
</style>

<div id="columns">
    {% for item in messages %}
    <figure>
        <img src="{{item.imageurl}}">
	      <figcaption><a href="{{item.email}}/{{item.name}}">{{item.name}}</a></figcaption>
	  </figure>
    {% endfor %}
</div>


<table class="table" data-sort="table">
    <thead>
        <tr>
            <th>{{user}}</th>
        </tr>
    </thead>
    <tbody>
        {% for item in messages %}
        <tr>
            <td>{{item.name}}</td>
            <td>{{item.description}}</td>
            <td>{{item.askingprice}}</td>

        </tr>
        {% endfor %}
    </tbody>
</table>
<form method="POST" enctype="multipart/form-data" action="/">
    {% csrf-field %}
    <p>
        Name:
        <input class="form-control"
               type="text"
               name="name"
               value="{{name}}" />
    </p>
    {% if errors.name %}
    <div class="alert alert-danger">{{errors.name|join}}</div>
    {% endif %}
    <p>
        Description:
        <textarea class="form-control"
                  rows="4"
                  cols="50"
                  name="description">{{description}}</textarea>
    </p>
    {% if errors.description %}
    <div class="alert alert-danger">{{errors.description|join}}</div>
    {% endif %}

    <p>
        Askingprice:
        <input type="number" name="askingprice">{{askingprice}}</input>
    </p>
    {% if errors.askingprice %}
    <div class="alert alert-danger">{{errors.askingprice|join}}</div>
    {% endif %}

    <p>
        Product url:
        <textarea class="form-control"
                  cols="50"
                  name="producturl">{{producturl}}</textarea>
    </p>
    {% if errors.producturl %}
    <div class="alert alert-danger">{{errors.producturl|join}}</div>
    {% endif %}

    <p>

        Image:
        <input id="file" name="file" type="file"/>

    </p>
    {% if errors.imageurl %}
    <div class="alert alert-danger">{{errors.imageurl|join}}</div>
    {% endif %}

    <p>
        Email:
        <textarea class="form-control"
                  rows="4"
                  cols="50"
                  name="email">{{email}}</textarea>
    </p>
    {% if errors.email %}
    <div class="alert alert-danger">{{errors.email|join}}</div>
    {% endif %}

    <input type="submit" class="btn btn-primary" value="comment" />
</form>


</div>
{% endblock %}
